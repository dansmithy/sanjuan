<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns:ng="http://angularjs.org"> 
  <head> 
    <title>San Juan</title> 
    <script src="js/jquery.min.1.5.1.js"></script>
    <script src="js/jquery-ui-1.8.12.custom.min.js"></script>
    <script src="js/bootstrap-twipsy.js"></script>
    <script src="js/angular-0.9.17.js" ng:autobind></script> 
    <script src="js/app.controllers.js"></script>
    <script src="js/angular.ext.api.js"></script>
    <script src="js/angular.ext.service.js"></script>        
    <script src="js/angular.ext.directives.js"></script>
    <script src="js/angular.ext.filters.js"></script>        
    <script src="ws/admin/version.js"></script>
    
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/sanjuan.css">

    <style type="text/css">
      body {
        padding-top: 80px;
      }
    </style>

  </head> 
  <body ng:controller="MainController">
  
   <div class="topbar">
      <div class="fill">
        <div class="container">
            <a class="brand" href="#/games">San Juan</a>
 
          
          <form ng:submit="login()" action="" class="pull-right input-errors-{{userManager.hasErrors()}}">
	            <input ng:show="userManager.isVerifiedButUnauthenticated()" class="input-small" name="userManager.credentials.username" type="text" placeholder="Username">
	            <input ng:show="userManager.isVerifiedButUnauthenticated()" class="input-small" name="userManager.credentials.password" type="password" placeholder="Password">
	            <button ng:show="userManager.isUnauthenticated()" class="btn" type="submit">Sign in</button>
          		<span class="login-status-text" ng:show="userManager.isVerifying()">Checking user </span>
            	<span class="login-processing" ng:show="userManager.isProcessing()"><img src="images/ajax-loader.gif" /></span>
          </form>                         
        
          <p ng:show="userManager.isAuthenticated()" class="pull-right" ng:click="logout()"><a href="#">Logout</a></p>
          <p ng:show="userManager.isAuthenticated()" class="pull-right">Logged in as <a href="#">{{userManager.user.username}}</a></p>
        </div>
      </div>
    </div>
  
  
    <div class="container" ng:show="userManager.isUnauthenticated()">
    
      <div class="hero-unit">
        <h1>Welcome to San Juan!</h1>
        <p>Please login to play</p>
        <img style="margin-left:200px;" alt="San Juan box" src="images/sanjuanbox.jpg">
      </div>    
        
    </div>
    
    <div ng:show="userManager.isAuthenticated()">  
    	<ng:view>Loading ...</ng:view>
    </div>
    
    <div class="container">
    
     <footer>
       <p class="pull-right"><small>build {{version}}</small></p>
     </footer>    
     </div>
    </body>
</html>